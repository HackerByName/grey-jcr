- var title = 'Home'

doctype html
html
	head
		include ./head.jade
	body
		div(class='ui container')
			include ./header.jade
			include ./menu.jade
			h2 Events
			div(class="ui vertical segment")
				h3 Create a new event
				form(class="ui form" method="POST" action="/admin/events/new")
					div(class="field")
						label Name
						input(type="text" name="name")
					div(class="field")
						label Description
						textarea(rows="5" name="description" id="editor1")
					div(class="two fields")
						div(class="field")
							label Date
							input(type="text" name="date" placeholder="dd-mm-yyyy")
						div(class="field")
							label Time
							input(type="text" name="time" placeholder="hh:mm")
					button(type="submit" class="ui submit button")
						i(class="write icon")
						| Create
					div(class="ui error message")

				script.
					// $('.form').form({
					// 	fields: {
					// 		name: 'empty',
					// 		date: 'regExp[/^(0?[1-9]|[12][0-9]|3[01])[-](0?[1-9]|1[0-2])[-](19|20)[0-9]{2}$/gi]',
					// 		time: 'regExp[/^([01]?[0-9]|2[0-3]):[0-5][0-9]$/gi]'
					// 	}
					// });

			div(class="ui vertical segment")
				h3 Other Events

				table(class="ui fixed table")
					thead
						tr
							th Title
							th Time/Date
							th Actions
					tbody
						each event in events
							tr
								td= event.name
								td= event.timestamp
								td
									div(class="ui buttons")
										a(class="ui button" href="/admin/events/"+event.id+"/bookings.csv")
											i(class="download icon")
											| Bookings
										a(class="ui button" href="/admin/events/"+event.id+"/edit")
											i(class="edit icon")
											| Edit
										a(class="ui negative button" href="/admin/events/"+event.id+"/delete" onclick="return confirm('Are you sure you want to delete this event?');") 
											i(class="remove icon")
											| Delete

		script.
			CKEDITOR.replace( 'editor1' );